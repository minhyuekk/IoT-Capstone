# 사물인터넷 캡스톤디자인 - 스마트 IoT 우회전 신호등
<br>

## 조원
이혜윤(조장), 황민혁, 안원석

<br>

## 개요
스마트 IoT 우회전 시스템의 주목표는 **교차로 내의 차량 흐름을 원활하게 하고,
보행자의 안전성을 향상하는 데 있다.** 이를 위해, 운전자에게 직관적인 우회전 신호를
제공하고 단속을 강화하는 방향으로 본 프로젝트를 진행하게 되었다.

<br>

## 유사 프로젝트와의 차별성
* 본 프로젝트와 비슷한 주제로 22 년 상반기에 진행된 타 프로젝트는 직진 차선
운전자의 우측에 신호등을 설치하는 방식으로 진행하였다. 이는, 일부 도로에도 존재하는
우회전 신호등과 동일한 방식이지만, 신호등을 넘어 우회전하는 도중에는 신호를 확인할
수 없다는 단점이 있다.

* 본 프로젝트는 우회전 시 보이는 보행자 신호등을 활용하여 우회전하는 중간에도
신호를 확인할 수 있다는 장점이 있다. 또한, 신호등 숫자 보조장치에 우회전 신호를
보이게 하여 기존 인프라를 활용한다는 차별성이 존재한다

<br>

## 주요 기능 및 전체 시스템 구성
* 첫 번째는 보행자 인식을 통한 우회전 신호 제어 기능이다. 우회전 신호는 보행자
신호등의 숫자 보조장치에 표시된다. 이를 통해 우회전하는 차량은 우회전 차로 맞은편의
보행자 신호등을 보고 우회전 신호를 확인할 수 있게 된다. 그리고, 우회전 신호는
횡단보도 내 보행자 유무에 따라 켜지고 꺼지게 되며, 녹색 신호일 경우 숫자와 0.5 초
간격으로 바뀌며 점등하게 된다.

* 두 번째는 신호 위반 차량 인식 기능이다. 횡단보도 내 보행자가 있을 때 우회전하거나,
직진차로 차량 신호가 적색일 때, 정지선 이내에 일시 정지하지 않고 우회전할 때 신호
위반 차량으로 인식하게 된다. 신호 위반이 인식되면, 그 즉시 차량 이미지가 찍히게 되고,
관리자 전용 웹으로 전송되어 웹 테이블에 차량 정보와 찍힌 날짜 및 시간이 보이게 된다.

<br>
전체 시스템 구성은 다음 그림과 같다.

![image](https://github.com/user-attachments/assets/4401aa63-0bc7-4ba0-a28b-11384228e25c)

<br>

## 개발에 사용한 주요 기술 및 하드웨어
### 1. 하드웨어
* **Arduino Uno Board, Raspberry Pi 4B Board**
![image](https://github.com/user-attachments/assets/b4b37e5c-bc24-42c3-bf36-14061fd64333)

<br>

### 2. 주요 기술 - 보행자 인식
* **OpenCV, YOLOv8**을 사용하여 지정된 영역 안의 보행자를 인식<br>
* 오토바이 운전자는 **객체 인식에서 제외**
![image](https://github.com/user-attachments/assets/adcb7369-23f0-4655-9739-643c73e18b22)

<br>

### 3. 주요 기술 - 신호 위반 차량 인식
* 직진차로 신호가 적색일 때, 일시 정지하지 않고 바로 우회전을 할 경우
* 횡단보도에 보행자가 있을 때, 우회전을 할 경우

* **OpenCV, YOLOv8**을 사용하여 우회전 차로 영역 내 차량 인식
* 우회전 금지 시점에서 우회전한 차량의 모습을 캡쳐하여 웹 서버로 csv 형식 데이터와 이미지 전송
![image](https://github.com/user-attachments/assets/41ac85ee-7b02-480c-b915-714382255734)

<br>

### 4. 주요 기술 - 우회전 신호등 점등
* **도트 매트릭스**를 활용하여 추가적으로 신호등 제작x
* 기존 신호등 인프라 활용 가능
  
![image](https://github.com/user-attachments/assets/bc4f4733-f334-49ef-aa3e-ce1170d1459e)

<br>

### 5. 주요 기술 - 관리자 전용 웹
* Flask, AWS EC2를 이용하여 클라우드 웹 구축
* 웹 서버는 받은 데이터와 이미지를 웹 페이지의 테이블에 표시

![image](https://github.com/user-attachments/assets/f523efc9-8c4a-4952-b643-a1e754f81285)

<br>

## 기능 시연 영상
https://www.youtube.com/watch?v=6Ao93nwAAIs

<br>

## 팀원 별 담당 업무


![image](https://github.com/user-attachments/assets/1b8c4a2a-036f-473f-b81f-13e9de119aa6)

